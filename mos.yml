author: Your Name
description: Coin counter example for Mongoose OS
version: 1.0

manifest_version: 2017-09-29

libs_version: ${mos.version}
modules_version: ${mos.version}
mongoose_os_version: ${mos.version}

tags:
  - c

sources:
  - src

filesystem:
  - fs

libs:
  - origin: https://github.com/mongoose-os-libs/core
  - origin: https://github.com/mongoose-os-libs/vfs-common
  - origin: https://github.com/mongoose-os-libs/rpc-service-fs
  - origin: https://github.com/mongoose-os-libs/rpc-common
  - origin: https://github.com/mongoose-os-libs/rpc-loopback
  - origin: https://github.com/mongoose-os-libs/rpc-uart
  - origin: https://github.com/mongoose-os-libs/wifi
  - origin: https://github.com/mongoose-os-libs/mqtt
  - origin: https://github.com/mongoose-os-libs/rpc-mqtt
  - origin: https://github.com/mongoose-os-libs/dash
  - origin: https://github.com/mongoose-os-libs/ds3231
  - origin: https://github.com/mongoose-os-libs/i2c
  - origin: https://github.com/mongoose-os-libs/sntp
  - origin: https://github.com/mongoose-os-libs/rpc-service-gpio


config_schema:
  - ["app.total_bag", "f", 0.0, {title: "Total Bag"}]
  - ["coin.pin", "i", 26, {title: "Coin pin"}]
  - ["coin.count_file", "s", "/counters.json", {title: "Coin count file"}]
  - ["coin.report_delay", "i", 5000, {title: "Coin report delay in ms"}]
  - ["app.machine_on", "b", false, {title: "Machine on state"}]

  #- ["wifi.sta.ssid", "s", "PAPUCASA_2.4G", {title: "WiFi SSID"}]
  #- ["wifi.sta.pass", "s", "Cuevademachos71", {title: "WiFi Password"}]
  #- ["wifi.sta.enable", "b", true, {title: "Enable WiFi"}]
  - ["wifi.sta.ssid", "s", "Inventoteca_2G", {title: "WiFi SSID"}]
  - ["wifi.sta.pass", "s", "science_7425", {title: "WiFi Password"}]
  - ["wifi.sta.enable", "b", true, {title: "Enable WiFi"}]

  - ["mqtt.enable", "b", true, {title: "Enable MQTT"}]
  - ["mqtt.server", "s", "broker.emqx.io:1883", {title: "MQTT Server"}]
  - ["rpc.mqtt.enable", "b", true, {title: "Enable RPC over MQTT"}]
  - ["rpc.mqtt.pub_topic", "s", "rpc/pub", {title: "RPC Publish Topic"}]
  - ["rpc.mqtt.sub_topic", "s", "rpc/sub", {title: "RPC Subscribe Topic"}]

  - ["sys.mount.fs_size", "i", 2048, {title: "Filesystem size in KB"}]

  - ["dash.enable", "b", true, {title: "Enable mDash"}]
  - ["dash.token", "s", "jzgks691wMLewRq4kTeuTVQ", {title: "mDash token"}]
  - ["rpc.uart.enable", "b", true, {title: "Enable UART for RPC"}]
  - ["i2c.enable", true]

  - ["sntp.enable", true]
  - ["sntp.server", "pool.ntp.org"]
  - ["sntp.retry_min", 1]
  - ["sntp.retry_max", 30]
  - ["sntp.update_interval", 7200]


